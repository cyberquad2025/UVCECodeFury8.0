<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>AgriMitra | Fertilizers</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <style>
    :root {
      --green:#2d6a4f;
      --dark:#1b4332;
      --light:#d8f3dc;
      --bg:#f6fff9;
    }
    *{box-sizing:border-box;}
    body{margin:0; font-family:Segoe UI,Arial; background:var(--bg); color:#222;}

    /* Weather Strip */
    .weather-strip {
      display:flex;
      gap:12px;
      align-items:center;
      justify-content:center;
      padding:8px 12px;
      background: rgba(0,0,0,0.22);
      border-bottom: 1px solid rgba(255,255,255,0.12);
      font-size: 14px;
      flex-wrap:wrap;
      color: #fff;
    }
    .weather-pill {
      background: rgba(255,255,255,0.12);
      padding:6px 10px;
      border-radius: 999px;
      display:inline-flex;
      gap:8px;
      align-items:center;
      font-weight:600;
    }
    .small-muted { opacity: .9; font-weight:500; }

    /* Navbar */
    nav{display:flex; justify-content:space-between; align-items:center;
        background:var(--green); color:#fff; padding:12px 20px; position:relative;}
    .logo{font-weight:bold; font-size:20px;}
    nav ul{list-style:none; display:flex; gap:20px; margin:0; padding:0;}
    nav a{color:#fff; text-decoration:none; font-weight:500;}
    nav a:hover{text-decoration:underline;}
    .menu-toggle{display:none; font-size:26px; cursor:pointer;}
    @media(max-width:768px){
      nav ul{display:none; flex-direction:column; gap:14px; background:rgba(0,0,0,0.9);
             position:absolute; top:100%; left:0; width:100%; padding:18px 0; text-align:center;}
      nav ul.show{display:flex;}
      .menu-toggle{display:block;}
    }

    /* Container */
    .container{max-width:1100px; margin:20px auto; padding:20px; display:flex; gap:20px;}
    .main{flex:1; display:flex; flex-direction:column; gap:20px;}
    .card{background:#fff; border-radius:12px; padding:20px; box-shadow:0 4px 12px rgba(0,0,0,0.08);}
    .card h1{margin-top:0; color:var(--green);}
    .list-container{display:grid; grid-template-columns:repeat(auto-fill,minmax(280px,1fr)); gap:16px;}
    .item-card{
      background:#f8fdf7; padding:16px; border-radius:10px; border:1px solid #eee; display:flex; 
      flex-direction:column; justify-content:space-between;
    }
    .item-card img{width:100%; height:150px; object-fit:cover; border-radius:8px; margin-bottom:10px;}
    .item-card h3{margin:0 0 8px; color:var(--green);}
    .item-card p{margin:0; color:#666;}
    .item-card small{color:#999; display:block; margin-top:8px;}
  </style>
</head>
<body>

  <div class="weather-strip" id="weatherStrip">
    <span class="small-muted">Loading weather‚Ä¶</span>
  </div>

  <nav>
    <div class="logo">üåæ AgriMitra</div>
    <span class="menu-toggle" onclick="toggleMenu()">‚ò∞</span>
    <ul id="navbar-links">
      <li><a href="index.html" id="nav-home">Home</a></li>
      <li><a href="marketplace.html" id="nav-market">Crop Marketplace</a></li>
      <li><a href="equipment.html" id="nav-equip">Equipment</a></li>
      <li><a href="fertilizers.html" id="nav-fertilizers">Fertilizers & Manures</a></li>
      <li id="dashboard-link" style="display:none;"><a href="#" id="nav-dashboard">Dashboard</a></li>
      <li id="login-link"><a href="login.html" id="nav-login">Login/Signup</a></li>
      <li id="logout-link" style="display:none;"><a href="#" onclick="logout()" id="nav-logout">Logout</a></li>
    </ul>
    <select id="langSelect" onchange="changeLanguage()" style="padding:6px;border-radius:6px;font-weight:600;">
      <option value="en" selected>English</option>
      <option value="hi">‡§π‡§ø‡§®‡•ç‡§¶‡•Ä</option>
      <option value="kn">‡≤ï‡≤®‡≥ç‡≤®‡≤°</option>
      <option value="te">‡∞§‡±Ü‡∞≤‡±Å‡∞ó‡±Å</option>
      <option value="ta">‡Æ§‡ÆÆ‡Æø‡Æ¥‡Øç</option>
    </select>
  </nav>

  <div class="container">
    <div class="main">
      <div class="card">
        <h1 id="page-title">Fertilizers & Manures</h1>
        <p id="page-subtitle">A curated list of essential fertilizers and manures for common crops.</p>
        <div id="fertilizer-list" class="list-container"></div>
      </div>
    </div>
  </div>

<script>
const translations = {
  en: {nav_home:"Home", nav_market:"Crop Marketplace", nav_equip:"Equipment", nav_fertilizers:"Fertilizers & Manures", nav_login:"Login/Signup", nav_dashboard:"Dashboard", nav_logout:"Logout", page_title:"Fertilizers & Manures", page_subtitle:"A curated list of essential fertilizers and manures for common crops.", coming_soon:"More info coming soon!"},
  hi: {nav_home:"‡§π‡•ã‡§Æ", nav_market:"‡§´‡§∏‡§≤ ‡§¨‡§æ‡§ú‡§º‡§æ‡§∞", nav_equip:"‡§â‡§™‡§ï‡§∞‡§£", nav_fertilizers:"‡§â‡§∞‡•ç‡§µ‡§∞‡§ï ‡§î‡§∞ ‡§ñ‡§æ‡§¶", nav_login:"‡§≤‡•â‡§ó‡§ø‡§®/‡§∏‡§æ‡§á‡§®‡§Ö‡§™", nav_dashboard:"‡§°‡•à‡§∂‡§¨‡•ã‡§∞‡•ç‡§°", nav_logout:"‡§≤‡•â‡§ó‡§Ü‡§â‡§ü", page_title:"‡§â‡§∞‡•ç‡§µ‡§∞‡§ï ‡§î‡§∞ ‡§ñ‡§æ‡§¶", page_subtitle:"‡§∏‡§æ‡§Æ‡§æ‡§®‡•ç‡§Ø ‡§´‡§∏‡§≤‡•ã‡§Ç ‡§ï‡•á ‡§≤‡§ø‡§è ‡§Ü‡§µ‡§∂‡•ç‡§Ø‡§ï ‡§â‡§∞‡•ç‡§µ‡§∞‡§ï‡•ã‡§Ç ‡§î‡§∞ ‡§ñ‡§æ‡§¶‡•ã‡§Ç ‡§ï‡•Ä ‡§∏‡•Ç‡§ö‡•Ä‡•§", coming_soon:"‡§Ö‡§ß‡§ø‡§ï ‡§ú‡§æ‡§®‡§ï‡§æ‡§∞‡•Ä ‡§ú‡§≤‡•ç‡§¶ ‡§π‡•Ä!"},
  kn: {nav_home:"‡≤π‡≥ã‡≤Æ‡≥ç", nav_market:"‡≤¨‡≥Ü‡≤≥‡≥Ü ‡≤Æ‡≤æ‡≤∞‡≥Å‡≤ï‡≤ü‡≥ç‡≤ü‡≥Ü", nav_equip:"‡≤â‡≤™‡≤ï‡≤∞‡≤£", nav_fertilizers:"‡≤ó‡≥ä‡≤¨‡≥ç‡≤¨‡≤∞ ‡≤Æ‡≤§‡≥ç‡≤§‡≥Å ‡≤∞‡≤∏‡≤ó‡≥ä‡≤¨‡≥ç‡≤¨‡≤∞‡≤ó‡≤≥‡≥Å", nav_login:"‡≤≤‡≤æ‡≤ó‡≥ç ‡≤á‡≤®‡≥ç/‡≤∏‡≥à‡≤®‡≥ç ‡≤Ö‡≤™‡≥ç", nav_dashboard:"‡≤°‡≥ç‡≤Ø‡≤æ‡≤∂‡≥ç‚Äå‡≤¨‡≥ã‡≤∞‡≥ç‡≤°‡≥ç", nav_logout:"‡≤≤‡≤æ‡≤ó‡≥ç‚Äå‡≤î‡≤ü‡≥ç", page_title:"‡≤ó‡≥ä‡≤¨‡≥ç‡≤¨‡≤∞ ‡≤Æ‡≤§‡≥ç‡≤§‡≥Å ‡≤∞‡≤∏‡≤ó‡≥ä‡≤¨‡≥ç‡≤¨‡≤∞‡≤ó‡≤≥‡≥Å", page_subtitle:"‡≤∏‡≤æ‡≤Æ‡≤æ‡≤®‡≥ç‡≤Ø ‡≤¨‡≥Ü‡≤≥‡≥Ü‡≤ó‡≤≥‡≤ø‡≤ó‡≥Ü ‡≤Ö‡≤ó‡≤§‡≥ç‡≤Ø‡≤µ‡≤ø‡≤∞‡≥Å‡≤µ ‡≤ó‡≥ä‡≤¨‡≥ç‡≤¨‡≤∞‡≤ó‡≤≥ ‡≤™‡≤ü‡≥ç‡≤ü‡≤ø.", coming_soon:"‡≤Æ‡≤æ‡≤π‡≤ø‡≤§‡≤ø ‡≤∂‡≥Ä‡≤ò‡≥ç‡≤∞‡≤¶‡≤≤‡≥ç‡≤≤‡≥á ‡≤¨‡≤∞‡≥Å‡≤§‡≥ç‡≤§‡≤¶‡≥Ü!"},
  te: {nav_home:"‡∞π‡±ã‡∞Æ‡±ç", nav_market:"‡∞™‡∞Ç‡∞ü‡∞≤ ‡∞Æ‡∞æ‡∞∞‡±ç‡∞ï‡±Ü‡∞ü‡±ç‚Äå‡∞™‡±ç‡∞≤‡±á‡∞∏‡±ç", nav_equip:"‡∞™‡∞∞‡∞ø‡∞ï‡∞∞‡∞æ‡∞≤‡±Å", nav_fertilizers:"‡∞é‡∞∞‡±Å‡∞µ‡±Å‡∞≤‡±Å & ‡∞∏‡±á‡∞Ç‡∞¶‡±ç‡∞∞‡±Ä‡∞Ø ‡∞é‡∞∞‡±Å‡∞µ‡±Å‡∞≤‡±Å", nav_login:"‡∞≤‡∞æ‡∞ó‡∞ø‡∞®‡±ç/‡∞∏‡±à‡∞®‡±ç‡∞Ö‡∞™‡±ç", nav_dashboard:"‡∞°‡∞æ‡∞∑‡±ç‚Äå‡∞¨‡±ã‡∞∞‡±ç‡∞°‡±ç", nav_logout:"‡∞≤‡∞æ‡∞ó‡±ç‡∞Ö‡∞µ‡±Å‡∞ü‡±ç", page_title:"‡∞é‡∞∞‡±Å‡∞µ‡±Å‡∞≤‡±Å & ‡∞∏‡±á‡∞Ç‡∞¶‡±ç‡∞∞‡±Ä‡∞Ø ‡∞é‡∞∞‡±Å‡∞µ‡±Å‡∞≤‡±Å", page_subtitle:"‡∞∏‡∞æ‡∞ß‡∞æ‡∞∞‡∞£ ‡∞™‡∞Ç‡∞ü‡∞≤‡∞ï‡±Å ‡∞Ö‡∞µ‡∞∏‡∞∞‡∞Æ‡±à‡∞® ‡∞é‡∞∞‡±Å‡∞µ‡±Å‡∞≤ ‡∞ú‡∞æ‡∞¨‡∞ø‡∞§‡∞æ.", coming_soon:"‡∞Æ‡∞∞‡∞ø‡∞®‡±ç‡∞®‡∞ø ‡∞µ‡∞ø‡∞µ‡∞∞‡∞æ‡∞≤‡±Å ‡∞§‡±ç‡∞µ‡∞∞‡∞≤‡±ã!"},
  ta: {nav_home:"‡ÆÆ‡ØÅ‡Æï‡Æ™‡Øç‡Æ™‡ØÅ", nav_market:"‡Æ™‡ÆØ‡Æø‡Æ∞‡Øç ‡Æö‡Æ®‡Øç‡Æ§‡Øà", nav_equip:"‡Æâ‡Æ™‡Æï‡Æ∞‡Æ£‡Æô‡Øç‡Æï‡Æ≥‡Øç", nav_fertilizers:"‡Æâ‡Æ∞‡Æô‡Øç‡Æï‡Æ≥‡Øç ‡ÆÆ‡Æ±‡Øç‡Æ±‡ØÅ‡ÆÆ‡Øç ‡Æâ‡Æ∞‡Æô‡Øç‡Æï‡Æ≥‡Øç", nav_login:"‡Æâ‡Æ≥‡Øç‡Æ®‡ØÅ‡Æ¥‡Øà/‡Æ™‡Æ§‡Æø‡Æµ‡ØÅ ‡Æö‡ØÜ‡ÆØ‡Øç", nav_dashboard:"‡Æü‡Ææ‡Æ∑‡Øç‡Æ™‡Øã‡Æ∞‡Øç‡Æü‡Øç", nav_logout:"‡Æµ‡ØÜ‡Æ≥‡Æø‡ÆØ‡Øá‡Æ±‡ØÅ", page_title:"‡Æâ‡Æ∞‡Æô‡Øç‡Æï‡Æ≥‡Øç ‡ÆÆ‡Æ±‡Øç‡Æ±‡ØÅ‡ÆÆ‡Øç ‡Æâ‡Æ∞‡Æô‡Øç‡Æï‡Æ≥‡Øç", page_subtitle:"‡Æ™‡Øä‡Æ§‡ØÅ‡Æµ‡Ææ‡Æ© ‡Æ™‡ÆØ‡Æø‡Æ∞‡Øç‡Æï‡Æ≥‡ØÅ‡Æï‡Øç‡Æï‡ØÅ ‡Æ§‡Øá‡Æµ‡Øà‡ÆØ‡Ææ‡Æ© ‡Æâ‡Æ∞‡Æô‡Øç‡Æï‡Æ≥‡Æø‡Æ©‡Øç ‡Æ™‡Æü‡Øç‡Æü‡Æø‡ÆØ‡Æ≤‡Øç.", coming_soon:"‡ÆÆ‡Øá‡Æ≤‡ØÅ‡ÆÆ‡Øç ‡Æµ‡Æø‡Æ∞‡Æø‡Æµ‡Ææ‡Æ© ‡Æ§‡Æï‡Æµ‡Æ≤‡Øç‡Æï‡Æ≥‡Øç ‡Æµ‡Æø‡Æ∞‡Øà‡Æµ‡Æø‡Æ≤‡Øç!"}
};

let lang = localStorage.getItem("lang") || "en";
const L = translations[lang];

function toggleMenu(){ document.getElementById("navbar-links").classList.toggle("show"); }
function loadWeather(){
  const el=document.getElementById('weatherStrip');
  navigator.geolocation.getCurrentPosition(pos=>{
    const {latitude:lat,longitude:lon}=pos.coords;
    fetch(`https://api.open-meteo.com/v1/forecast?latitude=${lat}&longitude=${lon}&current_weather=true`)
    .then(r=>r.json()).then(j=>{
      const w=j.current_weather;
      el.innerHTML=`<span class="weather-pill">üå°Ô∏è ${Math.round(w.temperature)}¬∞C</span>
                    <span class="weather-pill">üí® ${w.windspeed} km/h</span>`;
    }).catch(()=>el.innerHTML="<span class='weather-pill'>‚ö†Ô∏è Weather unavailable</span>");
  },()=>el.innerHTML="<span class='weather-pill'>‚ö†Ô∏è Weather unavailable</span>");
}

function updateNavbar(){
  const user = JSON.parse(localStorage.getItem("user") || "{}");
  const dash = document.getElementById("dashboard-link");
  const login = document.getElementById("login-link");
  const logoutBtn = document.getElementById("logout-link");
  if(user && user.id){
    dash.style.display="inline-block";
    dash.querySelector("a").href = user.role==="farmer" ? "farmer.html":"buyer.html";
    login.style.display="none"; logoutBtn.style.display="inline-block";
  } else {
    dash.style.display="none"; login.style.display="inline-block"; logoutBtn.style.display="none";
  }
}
function logout(){ localStorage.removeItem("user"); updateNavbar(); window.location="index.html"; }
function changeLanguage(){ const l=document.getElementById("langSelect").value; localStorage.setItem("lang",l); window.location.reload(); }
function applyTranslations(){
  document.title=L.page_title;
  document.getElementById("page-title").textContent=L.page_title;
  document.getElementById("page-subtitle").textContent=L.page_subtitle;
  document.getElementById("nav-home").textContent=L.nav_home;
  document.getElementById("nav-market").textContent=L.nav_market;
  document.getElementById("nav-equip").textContent=L.nav_equip;
  document.getElementById("nav-fertilizers").textContent=L.nav_fertilizers;
  document.getElementById("nav-login").textContent=L.nav_login;
  document.getElementById("nav-dashboard").textContent=L.nav_dashboard;
  document.getElementById("nav-logout").textContent=L.nav_logout;
}

// Sample fertilizers with images
const fertilizers = [
  {name:"Urea (Nitrogen Fertilizer)", price:"‚Çπ450 / 50 kg", desc:"Highly soluble nitrogen fertilizer for boosting vegetative growth in crops like wheat and rice.", img:"https://www.thetreecenter.com/c/uploads/urea-jpg-webp.webp"},
  {name:"DAP (Di-Ammonium Phosphate)", price:"‚Çπ950 / 50 kg", desc:"Phosphorus and nitrogen-rich fertilizer, improves root development and crop yield.", img:"https://fertfinda.co.nz/wp-content/uploads/2024/06/DAP_Web.jpg"},
  {name:"MOP (Muriate of Potash)", price:"‚Çπ700 / 50 kg", desc:"Potassium-rich fertilizer for strengthening plants and improving fruit quality.", img:"https://m.media-amazon.com/images/I/715Nqo4FhWL.jpg"},
  {name:"Compost", price:"‚Çπ15 / kg", desc:"Organic manure that enriches soil fertility and promotes healthy plant growth.", img:"https://www.onegreenplanet.org/wp-content/uploads/2019/01/shutterstock_1912459132-scaled.jpg"},
  {name:"Vermicompost", price:"‚Çπ25 / kg", desc:"Natural organic fertilizer produced using earthworms, enhances soil microbiology and crop quality.", img:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRd1JFuyHQ7Qx2oqRnP6QpQ9Q8rG1f7RIcZYQ&s"}
];

function renderFertilizers(){
  const container = document.getElementById("fertilizer-list");
  container.innerHTML = fertilizers.map(f=>`
    <div class="item-card">
      <img src="${f.img}" alt="${f.name}">
      <h3>${f.name}</h3>
      <p>${f.desc}</p>
      <small>Price: ${f.price}</small>
    </div>
  `).join("");
}

window.addEventListener("load", ()=>{
  document.getElementById("langSelect").value = localStorage.getItem("lang")||"en";
  applyTranslations();
  updateNavbar();
  loadWeather();
  renderFertilizers();
});
</script>
</body>
</html>
