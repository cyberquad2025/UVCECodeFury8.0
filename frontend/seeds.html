<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>AgriMitra | Seeds</title>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<style>
:root {
  --green: #2d6a4f; --dark: #1b4332; --light: #d8f3dc; --bg: #f6fff9;
}
* { box-sizing:border-box; margin:0; padding:0; }
body { font-family:'Segoe UI', sans-serif; background: var(--bg); color:#222; }

/* Weather strip */
.weather-strip {
  display:flex; gap:12px; align-items:center; justify-content:center; padding:8px;
  background: #40916c; color:#fff; font-size:14px; flex-wrap:wrap;
}
.weather-pill {
  background: rgba(255,255,255,0.2); padding:4px 10px; border-radius:999px; font-weight:600;
}

/* Navbar */
nav{display:flex; justify-content:space-between; align-items:center; background:var(--green); color:#fff; padding:12px 20px; position:relative;}
.logo{font-weight:bold; font-size:20px;}
nav ul{list-style:none; display:flex; gap:20px; margin:0; padding:0;}
nav a{color:#fff; text-decoration:none; font-weight:500;}
nav a:hover{text-decoration:underline;}
.menu-toggle{display:none; font-size:26px; cursor:pointer;}
#langSelect { margin-left:10px; padding:6px; border-radius:6px; font-weight:600; }
@media(max-width:768px){
  nav ul{display:none; flex-direction:column; gap:14px; background:rgba(0,0,0,0.9); position:absolute; top:100%; left:0; width:100%; padding:18px 0; text-align:center;}
  nav ul.show{display:flex;}
  .menu-toggle{display:block;}
}

/* Main Content */
.main-container { max-width:1100px; margin:20px auto; padding:0 20px; }
h1 { color:var(--dark); margin-bottom:20px; text-align:center; }
.seeds-grid { display:grid; grid-template-columns:repeat(auto-fill,minmax(250px,1fr)); gap:20px; }
.seed-card {
  background:#fff; border-radius:12px; box-shadow:0 4px 12px rgba(0,0,0,0.1);
  overflow:hidden; transition:transform 0.2s;
  display:flex; flex-direction:column;
}
.seed-card:hover { transform:translateY(-5px); }
.seed-card img { width:100%; height:180px; object-fit:cover; }
.seed-card-content { padding:15px; display:flex; flex-direction:column; gap:8px; flex:1; }
.seed-card h3 { color:var(--green); margin:0; font-size:18px; }
.seed-card .price { font-size:16px; font-weight:bold; color:var(--dark); }
.seed-card p { font-size:14px; color:#555; line-height:1.4; }
.btn {
  margin-top:auto; padding:10px; background:var(--green);
  color:#fff; border:none; border-radius:6px; cursor:pointer; font-weight:600; text-align:center; transition:background 0.2s;
}
.btn:hover { background:var(--dark); }

/* Responsive */
@media(max-width:600px){ .seed-card img{height:150px;} h1{font-size:20px;} }
</style>
</head>
<body>

<!-- Weather -->
<div class="weather-strip" id="weatherStrip"><span>Loading weatherтАж</span></div>

<!-- Navbar -->
<nav>
  <div class="logo">ЁЯМ╛ AgriMitra</div>
  <span class="menu-toggle" onclick="toggleMenu()">тШ░</span>
  <ul id="navbar-links"></ul>
  <select id="langSelect" onchange="changeLanguage()">
    <option value="en">English</option>
    <option value="hi">рд╣рд┐рдиреНрджреА</option>
    <option value="ta">родрооро┐ро┤рпН</option>
  </select>
</nav>

<!-- Main -->
<div class="main-container">
  <h1 id="main-title">Our Seeds Selection</h1>
  <div class="seeds-grid" id="seedsGrid"></div>
</div>

<script>
const API_USER = JSON.parse(localStorage.getItem("user")||"{}");
let lang = localStorage.getItem("lang") || "en";

const translations = {
  en: { nav_home:"Home", nav_market:"Crop Marketplace", nav_equipment:"Equipment", nav_fertilizer:"Fertilizers & Manures", nav_seeds:"Seeds", nav_dashboard:"Dashboard", nav_login:"Login/Signup", nav_logout:"Logout", main_title:"Our Seeds Selection", buy_btn:"Buy Now", loading_weather:"Loading weatherтАж", weather_unavailable:"тЪая╕П Weather unavailable" },
  hi: { nav_home:"рд╣реЛрдо", nav_market:"рдлрд╕рд▓ рдорд╛рд░реНрдХреЗрдЯрдкреНрд▓реЗрд╕", nav_equipment:"рдЙрдкрдХрд░рдг", nav_fertilizer:"рдЙрд░реНрд╡рд░рдХ рдФрд░ рдЦрд╛рдж", nav_seeds:"рдмреАрдЬ", nav_dashboard:"рдбреИрд╢рдмреЛрд░реНрдб", nav_login:"рд▓реЙрдЧрд┐рди/рд░рдЬрд┐рд╕реНрдЯрд░", nav_logout:"рд▓реЙрдЧрдЖрдЙрдЯ", main_title:"рд╣рдорд╛рд░рд╛ рдмреАрдЬ рдЪрдпрди", buy_btn:"рдЕрднреА рдЦрд░реАрджреЗрдВ", loading_weather:"рдореМрд╕рдо рд▓реЛрдб рд╣реЛ рд░рд╣рд╛ рд╣реИтАж", weather_unavailable:"тЪая╕П рдореМрд╕рдо рдЙрдкрд▓рдмреНрдз рдирд╣реАрдВ" },
  ta: { nav_home:"роорпБроХрокрпНрокрпБ", nav_market:"рокропро┐ро░рпН роЪроирпНродрпИ", nav_equipment:"роЪро╛родройроЩрпНроХро│рпН", nav_fertilizer:"роЙро░роЩрпНроХро│рпН рооро▒рпНро▒рпБроорпН роЙро░роорпВроЯрпНроЯро▓рпНроХро│рпН", nav_seeds:"ро╡ро┐родрпИроХро│рпН", nav_dashboard:"роЯро╛ро╖рпНрокрпЛро░рпНроЯрпБ", nav_login:"роЙро│рпНроирпБро┤рпИ/рокродро┐ро╡рпБ", nav_logout:"ро╡рпЖро│ро┐ропрпЗро▒рпБ", main_title:"роОроЩрпНроХро│рпН ро╡ро┐родрпИродрпН родрпЗро░рпНро╡рпБ", buy_btn:"роЗрокрпНрокрпЛродрпБ ро╡ро╛роЩрпНроХро╡рпБроорпН", loading_weather:"ро╡ро╛ройро┐ро▓рпИ роПро▒рпНро▒рокрпНрокроЯрпБроХро┐ро▒родрпБтАж", weather_unavailable:"тЪая╕П ро╡ро╛ройро┐ро▓рпИ роХро┐роЯрпИроХрпНроХро╡ро┐ро▓рпНро▓рпИ" }
};
let L = translations[lang];

// NAVBAR
function toggleMenu(){ document.getElementById("navbar-links").classList.toggle("show"); }
function renderNavbar(){
  L = translations[localStorage.getItem("lang")||"en"];
  const nav = document.getElementById("navbar-links");
  if(API_USER && API_USER.id){
    nav.innerHTML = `
      <li><a href="index.html">${L.nav_home}</a></li>
      <li><a href="marketplace.html">${L.nav_market}</a></li>
      <li><a href="equipment.html">${L.nav_equipment}</a></li>
      <li><a href="fertilizers.html">${L.nav_fertilizer}</a></li>
      <li><a href="seeds.html">${L.nav_seeds}</a></li>
      <li><a href="${API_USER.role==='farmer'?'farmer.html':'buyer.html'}">${L.nav_dashboard}</a></li>
      <li><a href="#" onclick="logout()">${L.nav_logout}</a></li>`;
  }else{
    nav.innerHTML = `
      <li><a href="index.html">${L.nav_home}</a></li>
      <li><a href="marketplace.html">${L.nav_market}</a></li>
      <li><a href="equipment.html">${L.nav_equipment}</a></li>
      <li><a href="fertilizers.html">${L.nav_fertilizer}</a></li>
      <li><a href="seeds.html">${L.nav_seeds}</a></li>
      <li><a href="login.html">${L.nav_login}</a></li>`;
  }
}
function logout(){ localStorage.removeItem("user"); renderNavbar(); window.location="index.html"; }

// SEEDS DATA (working images)
const seeds = [
  {img:"https://gourmetgarden.in/cdn/shop/files/HybridTomato_18d9b8e8-d5d9-49a2-a5b9-cd9ce22e7fc3.jpg?v=1751022559", name:"Hybrid Tomato Seeds", price:"тВ╣150 / packet", desc:"High-yield, disease-resistant tomato seeds producing firm, red tomatoes suitable for all Indian climates."},
  {img:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTRLW1CkjkarxiEjUbBFl9YCbr7Ay6s9e3Jlg&s", name:"Paddy Seeds (Rice)", price:"тВ╣250 / kg", desc:"Premium rice seeds known for long grains and aromatic properties. Ideal for areas with ample water supply."},
  {img:"https://m.media-amazon.com/images/I/51qFKIM34RL._UF1000,1000_QL80_.jpg", name:"Organic Onion Seeds", price:"тВ╣120 / packet", desc:"100% organic onion seeds producing large, uniform bulbs. Non-GMO and resilient against pests."},
  {img:"https://m.media-amazon.com/images/I/61W6ai1WbcL._UF1000,1000_QL80_.jpg", name:"Corn Seeds (Maize)", price:"тВ╣180 / packet", desc:"Fast-growing corn seeds yielding sweet, juicy cobs. Excellent for commercial and small-scale farming."}
];

function renderSeeds(){
  const grid = document.getElementById("seedsGrid");
  grid.innerHTML = seeds.map(s => `
    <div class="seed-card">
      <img src="${s.img}" alt="${s.name}">
      <div class="seed-card-content">
        <h3>${s.name}</h3>
        <div class="price">${s.price}</div>
        <p>${s.desc}</p>
        <button class="btn">${L.buy_btn}</button>
      </div>
    </div>
  `).join("");
}

// WEATHER
async function loadWeather(){
  const el=document.getElementById('weatherStrip');
  el.innerHTML = `<span class="small-muted">${L.loading_weather}</span>`;
  try{
    const pos=await new Promise((res,rej)=>navigator.geolocation.getCurrentPosition(res,rej));
    const {latitude:lat,longitude:lon}=pos.coords;
    const r=await fetch(`https://api.open-meteo.com/v1/forecast?latitude=${lat}&longitude=${lon}&current_weather=true`);
    const j=await r.json(); const w=j.current_weather;
    el.innerHTML=`<span class="weather-pill">ЁЯМбя╕П ${Math.round(w.temperature)}┬░C</span>
                  <span class="weather-pill">ЁЯТи ${w.windspeed} km/h</span>`;
  }catch(e){ el.innerHTML=`<span class="weather-pill">${L.weather_unavailable}</span>`; }
}

// LANGUAGE CHANGE
function changeLanguage(){
  lang = document.getElementById("langSelect").value;
  localStorage.setItem("lang", lang);
  L = translations[lang];
  renderNavbar(); renderSeeds(); loadWeather();
}

// INIT
document.getElementById("langSelect").value = lang;
renderNavbar();
renderSeeds();
loadWeather();

// SYNC LANGUAGE ACROSS TABS
window.addEventListener("storage", (e)=>{
  if(e.key==="lang"){ L = translations[localStorage.getItem("lang")||"en"]; renderNavbar(); renderSeeds(); loadWeather(); }
});
</script>
</body>
</html>
